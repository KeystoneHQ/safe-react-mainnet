(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[40],{1406:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1409),r=function(e){var t=e.currentTarget;/token_placeholder/.test(t.src)||(t.src=a.a)};n(432)},1409:function(e,t,n){"use strict";t.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1412:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(48),r=n(321),i=n(395),o=n(525),c=n.n(o),l=n(0),s=n(1441),u=n.n(s),d=n(11),m=n(499),b=Object(m.a)({heading:{padding:d.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:d.secondaryText},detailsContainer:{backgroundColor:d.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:d.sm}}}),f=n(332),g=n(139),p=n(156),v=n(118),h=n(155),O=n(86),E=n(107),j=Object(i.a)(b),x=function(e){var t=e.isOpen,n=e.onClose,i=e.onScan,o=j(),s=Object(l.useState)(!1),d=Object(a.a)(s,2),m=d[0],b=d[1],x=Object(l.useState)(null),y=Object(a.a)(x,2),k=y[0],w=y[1],S=Object(l.useState)(!1),T=Object(a.a)(S,2),P=T[0],C=T[1],R=l.createRef(),I=l.useCallback((function(){R.current.openImageDialog()}),[R]);Object(l.useEffect)((function(){m||!P||k||(b(!0),I())}),[P,I,m,b,k]);var B=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(C(!0),b(!1)):w("The QR could not be read"));t?i(t):P&&w("The QR could not be read")};return l.createElement(f.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens"},l.createElement(E.a,{align:"center",className:o.heading,grow:!0},l.createElement(O.a,{noMargin:!0,size:"xl"},"Scan QR"),l.createElement(r.a,{disableRipple:!0,onClick:n},l.createElement(c.a,{className:o.close}))),l.createElement(h.a,null),l.createElement(v.a,{className:o.detailsContainer,layout:"column",middle:"xs"},k&&l.createElement(g.a,{padding:"md",margin:"md"},k),l.createElement(u.a,{legacyMode:P,onError:function(e){return B(e,null)},onScan:function(e){return B(null,e)},ref:R,style:{width:"400px",height:"400px"},facingMode:"user"})),l.createElement(h.a,null),l.createElement(E.a,{align:"center",className:o.buttonRow},l.createElement(p.a,{className:o.button,color:"secondary",minWidth:154,onClick:n},"Close"),l.createElement(p.a,{className:o.button,color:"primary",minWidth:154,onClick:function(){C(!0),w(null),b(!1)},variant:"contained"},"Upload an image")))}},1418:function(e,t,n){"use strict";t.a=n.p+"static/media/qrcode.fec1b6d8.svg"},1426:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(48),r=n(395),i=n(0),o=n.n(i),c=n(1418),l=n(1412),s=n(126),u=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),d=function(e){var t=e.handleScan,n=u(),r=Object(i.useState)(!1),d=Object(a.a)(r,2),m=d[0],b=d[1],f=function(){b(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{alt:"Scan QR",className:n.qrCodeBtn,height:20,onClick:function(){b(!0)},role:"button",src:c.a,testId:"qr-icon"}),m&&o.a.createElement(l.a,{isOpen:m,onClose:f,onScan:function(e){t(e,f)}}))}},1432:function(e,t,n){"use strict";var a=n(13),r=n(69),i=n(500),o=n(502),c=n(1310),l=n(506),s=n(0),u=n.n(s),d={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,s=e.formControlProps,m=e.input,b=m.name,f=m.onChange,g=m.value,p=Object(r.a)(m,["name","onChange","value"]),v=e.label,h=e.meta,O=e.renderValue,E=Object(r.a)(e,["classes","disableError","formControlProps","input","label","meta","renderValue"]),j=(h.submitError&&!h.dirtySinceLastSubmit||h.error)&&h.touched&&!n,x=Object(a.a)(Object(a.a)({},p),{},{name:b});return u.a.createElement(i.a,Object.assign({},s,{error:j,style:d}),u.a.createElement(c.a,{htmlFor:b},v),u.a.createElement(l.a,Object.assign({classes:t,inputProps:x,onChange:f,renderValue:O,value:g},E)),j&&u.a.createElement(o.a,null,h.error||h.submitError))}},1439:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(5),r=n(7),i=n(8),o=n(9),c=n(547),l=n(550),s=n(548),u=n(725),d=n(0),m=function(e){if(e)return{maxWidth:"".concat(e,"px")}},b=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).changeSort=function(t,n){return function(){(0,e.props.onSort)(t,n)}},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.order,r=t.orderBy;return d.createElement(l.a,null,d.createElement(s.a,null,n.map((function(t){return d.createElement(c.a,{align:t.align,key:t.id,padding:t.disablePadding?"none":"default",sortDirection:r===t.id&&a},t.static?d.createElement("div",{style:t.style},t.label):d.createElement(u.a,{active:r===t.id,direction:a,onClick:e.changeSort(t.id,t.order),style:t.style},t.label))}))))}}]),n}(d.PureComponent);t.b=b},1463:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return I}));var a=n(69),r=n(48),i=n(13),o=n(1),c=n.n(o),l=n(12),s=n(23),u=n(586),d=n(2771),m=n(0),b=n.n(m),f=n(55),g=n(524),p=n(22),v=n(17),h=n(333),O=n(150),E=n(54),j=n(30),x=n(395),y=n(499),k=Object(x.a)(Object(y.a)({root:{overflow:"hidden",borderRadius:4,fontSize:"15px",width:"500px"}})),w=Object(x.a)(Object(y.a)({root:{fontSize:"14px",width:"420px"}})),S=n(119),T=n(29),P=Object(p.j)(),C=function(e){var t=e.addressBookEntries,n=e.fieldMutator,a=e.label,r=void 0===a?"Recipient":a,o=e.setIsValidAddress,m=e.setSelectedEntry,f=e.setValidationText,h=e.validationText,x=function(e){m(e),n(e.address)},y=function(e){var n=Object(g.j)(e);if(o(!n),!n){var a=Object(O.b)(t,{inputValue:e});return 1===a.length?a[0]:e}f(n)},C=function(){var e=Object(l.a)(c.a.mark((function e(t,a,r){var i,o,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="input"===e.t0?3:31;break;case 3:if(i=Object(S.c)(a)){e.next=6;break}return e.abrupt("break",31);case 6:if(!Object(p.u)(v.b.DOMAIN_LOOKUP)||!Object(E.e)(i)&&!Object(E.d)(i)){e.next=24;break}return o="",e.prev=8,e.next=11,Object(j.b)(i);case 11:o=e.sent,e.next=17;break;case 14:e.prev=14,e.t1=e.catch(8),Object(T.c)(T.b._101,e.t1.message);case 17:if(l=y(o)){e.next=21;break}return n(""),e.abrupt("break",31);case 21:return x("string"===typeof l?{address:o,name:i,chainId:P}:l),e.abrupt("break",31);case 24:if(s=y(i)){e.next=28;break}return n(""),e.abrupt("break",31);case 28:return x("string"===typeof s?{address:s,name:"",chainId:P}:s),e.abrupt("break",31);case 31:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),R=k(),I=w();return b.a.createElement(d.a,{closeIcon:null,openOnFocus:!1,filterOptions:O.b,freeSolo:!0,onChange:function(e,t,n){switch(n){case"select-option":var a=t,r=a.address,i=a.name,o=a.chainId;x({address:r,name:i,chainId:o})}},onInputChange:C,options:t,id:"address-book-input",renderInput:function(e){return b.a.createElement(u.a,Object.assign({},e,{autoFocus:!0,error:!!h,fullWidth:!0,variant:"filled",label:h||r,InputLabelProps:{shrink:!0,required:!0,classes:R},InputProps:Object(i.a)(Object(i.a)({},e.InputProps),{},{classes:I})}))},getOptionLabel:function(e){return e.address},renderOption:function(e){var t=e.address,n=e.name;return b.a.createElement(s.EthHashInfo,{hash:t,name:n,showAvatar:!0})},role:"listbox",style:{display:"flex",flexGrow:1}})},R=function(e){var t=Object(f.f)(h.f),n=Object(m.useState)(""),a=Object(r.a)(n,2),i=a[0],o=a[1];return Object(m.useEffect)((function(){e.errorMsg&&o(e.errorMsg)}),[e.errorMsg]),b.a.createElement(C,Object.assign({addressBookEntries:t,setValidationText:o,validationText:i},e))},I=function(e){var t=e.setIsValidAddress,n=e.setSelectedEntry,i=Object(a.a)(e,["setIsValidAddress","setSelectedEntry"]),o=Object(f.f)(h.f),s=Object(m.useState)([]),u=Object(r.a)(s,2),d=u[0],p=u[1],v=Object(m.useState)(""),E=Object(r.a)(v,2),j=E[0],x=E[1];Object(m.useEffect)((function(){(function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)(o);case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]);var y=function(){var e=Object(l.a)(c.a.mark((function e(a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a?void 0:a.address)){e.next=7;break}return e.next=3,Object(g.k)(a.address);case 3:r=e.sent,t(!r),x(null!==r&&void 0!==r?r:""),n(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return b.a.createElement(C,Object.assign({addressBookEntries:d,setIsValidAddress:t,setSelectedEntry:y,setValidationText:x,validationText:j},i))}},1464:function(e,t,n){"use strict";var a=n(5),r=n(7),i=n(8),o=n(9),c=n(23),l=n(579),s=n(549),u=n(1614),d=n(18),m=n(0),b=n(1439),f=n(78),g=function(e,t,n,a,r){var i=a?"".concat(n,"Order"):n;return r(t[i])<r(e[i])?-1:r(t[i])>r(e[i])?1:0},p=n(107),v=n(11),h={root:{backgroundColor:"white",borderTopRightRadius:v.sm,borderTopLeftRadius:v.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:v.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:v.xl,borderBottomRightRadius:v.sm,borderBottomLeftRadius:v.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},O={"aria-label":"Previous Page"},E={"aria-label":"Next Page"},j=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onSort=function(e,t){var n=r.state,a=n.order,i=n.orderBy,o=r.props.defaultOrder,c="desc";a&&i===e&&"desc"===a?c="asc":a||"desc"!==o||(c="asc"),r.setState((function(){return{order:c,orderBy:e,orderProp:t,fixed:!1}}))},r.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:v.sm,borderTopLeftRadius:v.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);r.setState({rowsPerPage:t})},r.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,n=e.defaultOrderBy;n&&t&&(t.find((function(e){return e.id===n})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.columns,r=e.data,i=e.defaultFixed,o=e.defaultOrder,d=e.defaultOrderBy,v=e.defaultRowsPerPage,h=e.disableLoadingOnEmptyTable,j=e.disablePagination,x=e.label,y=e.noBorder,k=e.size,w=this.state,S=w.fixed,T=w.order,P=w.orderBy,C=w.orderProp,R=w.page,I=w.rowsPerPage,B=P||d,N=T||o,L=I||v,M="undefined"!==typeof S?S:!!i,G={selectRoot:n.selectRoot,root:!y&&n.paginationRoot,input:n.white},z=a.find((function(e){return e.id===B})),A=function(e,t,n){var a=n?e.filter((function(e){return e.fixed})):Object(f.a)([]),r=(n?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),i=(r=r.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]}))).map((function(e){return e[0]}));return a.concat(i)}(r,function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,r){return g(e,r,t,n,a)}:function(e,r){return-g(e,r,t,n,a)}}(N,B,C,null===z||void 0===z?void 0:z.formatTypeSort),M);j||(A=A.slice(R*L,R*L+L));var F=0===k&&!h;return m.createElement(m.Fragment,null,!F&&m.createElement(l.a,{"aria-labelledby":x,className:y?"":n.root},m.createElement(b.b,{columns:a,onSort:this.onSort,order:T,orderBy:B}),m.createElement(s.a,null,t(A))),F&&m.createElement(p.a,{className:n.loader,style:this.getEmptyStyle()},m.createElement(c.Loader,{size:"sm"})),!j&&m.createElement(u.a,{backIconButtonProps:O,classes:G,component:"div",count:k,nextIconButtonProps:E,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,page:R,rowsPerPage:L,rowsPerPageOptions:[5,10,25,50,100]}))}}]),n}(m.Component);j.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(d.a)(h)(j)},1501:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(395),r=n(499),i=n(11),o=Object(a.a)(Object(r.a)({title:{padding:i.lg,paddingBottom:0},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden"},noBorderBottom:{"& > td":{borderBottom:"none"}},annotation:{paddingLeft:i.lg},ownersText:{color:i.secondaryText,"& b":{color:i.fontColor}},container:{padding:i.lg},actionButton:{fontWeight:i.boldFont,marginRight:i.sm},buttonRow:{padding:i.lg,left:0,bottom:0,boxSizing:"border-box",width:"100%",justifyContent:"flex-end",borderTop:"2px solid ".concat(i.border)},modifyBtn:{height:i.xl,fontSize:i.smallFontSize},removeModuleIcon:{marginLeft:i.lg,cursor:"pointer"},modalHeading:{boxSizing:"border-box",justifyContent:"space-between",height:"74px",padding:"".concat(i.sm," ").concat(i.lg)},modalContainer:{minHeight:"369px"},modalManage:{fontSize:i.lg},modalClose:{height:"35px",width:"35px"},modalButtonRow:{height:"84px",justifyContent:"center"},modalButtonRemove:{color:"#fff",backgroundColor:i.error,height:"42px"},modalName:{textOverflow:"ellipsis",overflow:"hidden"},modalUserName:{whiteSpace:"nowrap"},modalOwner:{backgroundColor:i.background,padding:i.md,alignItems:"center"},modalUser:{justifyContent:"left"},modalDescription:{padding:i.md},modalOpen:{paddingLeft:i.sm,width:"auto","&:hover":{cursor:"pointer"}},amountInput:{width:"100% !important"},gasCostsContainer:{backgroundColor:i.background,padding:"0 ".concat(i.lg)}}))},1519:function(e,t,n){"use strict";n.d(t,"b",(function(){return P}));var a,r,i,o,c,l=n(25),s=n(23),u=n(585),d=n(63),m=n(575),b=n(0),f=n.n(b),g=n(1391),p=n(24),v=n(22),h=n(1560),O=Object(p.default)(s.RadioButtons)(a||(a=Object(l.a)(["\n  & .MuiRadio-colorPrimary.Mui-checked {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.primary})),E=Object(p.default)((function(e){var t=Object.assign({},e);return f.a.createElement(u.a,t)}))(r||(r=Object(l.a)(["\n  && {\n    .MuiIconButton-label,\n    .MuiSwitch-colorSecondary {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked .MuiIconButton-label {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked:hover {\n      background-color: ",";\n    }\n\n    .Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.icon}),(function(e){return e.theme.colors.primary}),(function(e){var t=e.theme;return Object(d.g)("".concat(t.colors.primary,"03"))}),(function(e){return e.theme.colors.primaryLight})),j=function(e){var t=e.options,n=e.initialValue,a=e.groupName;return f.a.createElement(h.a,{name:a,initialValue:n},(function(e){var a=e.input,r=a.name,i=a.value,o=a.onChange;return f.a.createElement(O,{name:r,value:i||n,onRadioChange:o,options:t})}))},x=function(e){var t=e.label,n=e.name;return f.a.createElement(m.a,{label:t,control:f.a.createElement(h.a,{name:n,type:"checkbox",render:function(e){var t=e.input,n=t.checked,a=t.onChange,r=t.name,i=t.value;return f.a.createElement(E,{checked:n,onChange:a,name:r,value:i})}})})},y=p.default.div(i||(i=Object(l.a)(["\n  grid-area: resetTimeLabel;\n"]))),k=p.default.div(o||(o=Object(l.a)(["\n  grid-area: resetTimeToggle;\n"]))),w=p.default.div(c||(c=Object(l.a)(["\n  grid-area: resetTimeOption;\n"]))),S=[{label:"1 day",value:"1440"},{label:"1 week",value:"10080"},{label:"1 month",value:"43200"}],T=[{label:"5 minutes",value:"5"},{label:"30 minutes",value:"30"},{label:"1 hour",value:"60"}],P=function(){return"rinkeby"!==Object(v.m)().toLowerCase()?S:T};t.a=function(){var e=Object(g.c)("withResetTime",{subscription:{value:!0}}).input.value,t=P(),n=e?"choose reset time period":"one time";return f.a.createElement(f.a.Fragment,null,f.a.createElement(y,null,f.a.createElement(s.Text,{size:"xl"},"Set a reset time so the allowance automatically refills after the defined time period.")),f.a.createElement(k,null,f.a.createElement(x,{label:"Reset time (".concat(n,")"),name:"withResetTime"})),e&&f.a.createElement(w,null,f.a.createElement(j,{groupName:"resetTime",initialValue:t[0].value,options:t})))}},1560:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,r,i,o=n(25),c=n(23),l=n(0),s=n.n(l),u=n(1391),d=n(55),m=n(24),b=n(1392),f=n(524),g=n(241),p=n(1501),v=Object(m.default)(b.a)(a||(a=Object(o.a)(["\n  margin: 8px 0;\n  width: 100%;\n"]))),h=m.default.div(r||(r=Object(o.a)(["\n  grid-area: amountInput;\n"]))),O=Object(m.default)(c.TextField)(i||(i=Object(o.a)(["\n  margin: 0;\n"])));t.b=function(){var e=Object(p.a)(),t=Object(u.c)("token",{subscription:{value:!0}}).input.value,n=Object(u.c)("amount",{subscription:{touched:!0,visited:!0}}).meta,a=n.touched,r=n.visited,i=Object(d.f)(g.a).find((function(e){return e.address===t})),o=(a||r)&&Object(f.c)(f.p,f.l,Object(f.h)(0,!1));return s.a.createElement(h,null,s.a.createElement(v,{component:O,label:"Amount*",name:"amount",type:"text","data-testid":"amount-input",endAdornment:null===i||void 0===i?void 0:i.symbol,className:e.amountInput,validate:o}))}},1561:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return x}));var a,r,i=n(23),o=n(0),c=n.n(o),l=n(55),s=n(22),u=n(333),d=n(212),m=n(119),b=function(e){var t=e.title,n=e.children;return c.a.createElement(c.a.Fragment,null,t&&c.a.createElement(i.Text,{size:"md",color:"secondaryLight"},t),n)},f=function(e){var t=e.address,n=e.title,a=Object(l.f)((function(e){return Object(u.b)(e,{address:t})})),r=Object(s.d)(t);return c.a.createElement(b,{title:n},c.a.createElement(i.EthHashInfo,{hash:t,name:Object(m.a)(a,d.a)?void 0:a,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:r}))},g=n(107),p=function(e){var t=e.title,n=e.label;return c.a.createElement(b,{title:t},n?c.a.createElement(g.a,{align:"center",margin:"md"},c.a.createElement(i.IconText,{iconSize:"md",iconType:"fuelIndicator",text:n,textSize:"lg"})):c.a.createElement(g.a,{align:"center",margin:"md"},c.a.createElement(i.Text,{size:"lg"},"One-time spending limit")))},v=n(25),h=n(24),O=n(1406),E=h.default.img(a||(a=Object(v.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),j=h.default.div(r||(r=Object(v.a)(["\n  display: flex;\n  align-items: center;\n"]))),x=function(e){var t=e.amount,n=e.title,a=e.token;return c.a.createElement(b,{title:n},c.a.createElement(j,null,c.a.createElement(E,{alt:a.name,onError:O.a,src:a.logoUri||""}),c.a.createElement(i.Text,{size:"lg"},t," ",a.symbol)))}},1582:function(e,t,n){"use strict";var a=n(3),r=n(14),i=n(0),o=(n(16),n(15)),c=n(18),l=n(191),s=i.forwardRef((function(e,t){var n=e.classes,c=e.className,s=Object(r.a)(e,["classes","className"]),u=i.useContext(l.a);return i.createElement("div",Object(a.a)({className:Object(o.default)(n.root,c,"flex-start"===u.alignItems&&n.alignItemsFlexStart),ref:t},s))}));t.a=Object(c.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(s)},1611:function(e,t,n){"use strict";var a=n(55),r=n(54),i=n(241);t.a=function(e){var t=Object(a.f)(i.c);if(t)return t.find((function(t){return Object(r.f)(t.address,e)}))}},1614:function(e,t,n){"use strict";var a=n(3),r=n(14),i=n(0),o=(n(16),n(15)),c=n(18),l=n(757),s=n(576),u=n(506),d=n(547),m=n(61),b=i.forwardRef((function(e,t){var n=e.classes,c=e.className,l=e.component,s=void 0===l?"div":l,u=e.disableGutters,d=void 0!==u&&u,m=e.variant,b=void 0===m?"regular":m,f=Object(r.a)(e,["classes","className","component","disableGutters","variant"]);return i.createElement(s,Object(a.a)({className:Object(o.default)(n.root,n[b],c,!d&&n.gutters),ref:t},f))})),f=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(m.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(b),g=n(283),p=n(537),v=n(538),h=n(100),O=n(321),E=i.createElement(v.a,null),j=i.createElement(p.a,null),x=i.createElement(p.a,null),y=i.createElement(v.a,null),k=i.forwardRef((function(e,t){var n=e.backIconButtonProps,o=e.count,c=e.nextIconButtonProps,l=e.onChangePage,s=e.page,u=e.rowsPerPage,d=Object(r.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","page","rowsPerPage"]),m=Object(h.a)();return i.createElement("div",Object(a.a)({ref:t},d),i.createElement(O.a,Object(a.a)({onClick:function(e){l(e,s-1)},disabled:0===s,color:"inherit"},n),"rtl"===m.direction?E:j),i.createElement(O.a,Object(a.a)({onClick:function(e){l(e,s+1)},disabled:-1!==o&&s>=Math.ceil(o/u)-1,color:"inherit"},c),"rtl"===m.direction?x:y))})),w=n(246),S=function(e){var t=e.from,n=e.to,a=e.count;return"".concat(t,"-").concat(n," of ").concat(-1!==a?a:"more than ".concat(n))},T=[10,25,50,100],P=i.forwardRef((function(e,t){var n,c=e.ActionsComponent,m=void 0===c?k:c,b=e.backIconButtonProps,p=e.backIconButtonText,v=void 0===p?"Previous page":p,h=e.classes,O=e.className,E=e.colSpan,j=e.component,x=void 0===j?d.a:j,y=e.count,P=e.labelDisplayedRows,C=void 0===P?S:P,R=e.labelRowsPerPage,I=void 0===R?"Rows per page:":R,B=e.nextIconButtonProps,N=e.nextIconButtonText,L=void 0===N?"Next page":N,M=e.onChangePage,G=e.onChangeRowsPerPage,z=e.page,A=e.rowsPerPage,F=e.rowsPerPageOptions,D=void 0===F?T:F,H=e.SelectProps,V=void 0===H?{}:H,W=Object(r.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onChangeRowsPerPage","page","rowsPerPage","rowsPerPageOptions","SelectProps"]);x!==d.a&&"td"!==x||(n=E||1e3);var U=Object(w.a)(),_=Object(w.a)(),q=V.native?"option":s.a;return i.createElement(x,Object(a.a)({className:Object(o.default)(h.root,O),colSpan:n,ref:t},W),i.createElement(f,{className:h.toolbar},i.createElement("div",{className:h.spacer}),D.length>1&&i.createElement(g.a,{color:"inherit",variant:"body2",className:h.caption,id:_},I),D.length>1&&i.createElement(u.a,Object(a.a)({classes:{select:h.select,icon:h.selectIcon},input:i.createElement(l.a,{className:Object(o.default)(h.input,h.selectRoot)}),value:A,onChange:G,id:U,labelId:_},V),D.map((function(e){return i.createElement(q,{className:h.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),i.createElement(g.a,{color:"inherit",variant:"body2",className:h.caption},C({from:0===y?0:z*A+1,to:-1!==y?Math.min(y,(z+1)*A):(z+1)*A,count:-1===y?-1:y,page:z})),i.createElement(m,{className:h.actions,backIconButtonProps:Object(a.a)({title:v,"aria-label":v},b),count:y,nextIconButtonProps:Object(a.a)({title:L,"aria-label":L},B),onChangePage:M,page:z,rowsPerPage:A})))}));t.a=Object(c.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(P)},1754:function(e,t,n){"use strict";n(579);var a=n(547);n.d(t,"a",(function(){return a.a}));var r=n(548);n.d(t,"b",(function(){return r.a}));n(0)},1758:function(e,t,n){"use strict";var a=n(23),r=n(1582),i=n(1384),o=n(576),c=n(0),l=n.n(c),s=n(1392),u=n(1432),d=n(524),m=n(126),b=n(245),f=n(1406),g=n(395),p=n(499),v=n(11),h=Object(g.a)(Object(p.a)({container:{minHeight:"55px",padding:0,width:"100%"},tokenData:{padding:0,margin:0,lineHeight:"14px"},tokenImage:{display:"block",marginRight:v.sm,height:28,width:"auto"}})),O=Object(g.a)(Object(p.a)({selectMenu:{paddingRight:0}})),E=function(e){var t,n,c=e.tokenAddress,s=e.tokens,u=h(),d=s.find((function(e){return e.address===c}));return l.a.createElement(o.a,{className:u.container},d?l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,null,l.a.createElement(m.a,{className:u.tokenImage,alt:d.name,onError:f.a,src:d.logoUri||""})),l.a.createElement(i.a,{className:u.tokenData,primary:d.name,secondary:"".concat(Object(b.a)(null!==(t=null===(n=d.balance)||void 0===n?void 0:n.tokenBalance.toString())&&void 0!==t?t:"0")," ").concat(d.symbol)})):l.a.createElement(a.Text,{color:"placeHolder",size:"xl"},"Select an asset*"))};t.a=function(e){var t=e.initialValue,n=e.isValid,a=void 0===n||n,c=e.tokens,g=O(),p=h();return l.a.createElement(s.a,{classes:{selectMenu:g.selectMenu},className:a?"isValid":"isInvalid",component:u.a,displayEmpty:!0,initialValue:t,name:"token",renderValue:function(e){return l.a.createElement(E,{tokenAddress:e,tokens:c})},validate:d.p},c.map((function(e){var t,n;return l.a.createElement(o.a,{key:e.address,value:e.address},l.a.createElement(r.a,null,l.a.createElement(m.a,{className:p.tokenImage,alt:e.name,onError:f.a,src:e.logoUri||""})),l.a.createElement(i.a,{primary:e.name,secondary:"".concat(Object(b.a)(null!==(t=null===(n=e.balance)||void 0===n?void 0:n.tokenBalance.toString())&&void 0!==t?t:"0")," ").concat(e.symbol),"data-testid":"select-token-".concat(e.name)}))})))}},2769:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(25),i=n(23),o=n(0),c=n.n(o),l=n(55),s=n(24),u=n(139),d=n(118),m=n(107),b=n(67),f=n(241),g=n(580),p=n(132),v=n.n(p),h=n(340),O=n(1754),E=n(1464),j=n(1561),x=n(332),y=n(1424),k=n(1427),w=n(1410),S=n(1611),T=n(429),P=n(65),C=n(554),R=n(286),I=n(1423),B=n(1420),N=n(52),L=n(1519),M=n(1501),G=function(e){var t,n,r=e.onClose,i=e.spendingLimit,s=e.open,u=Object(M.a)(),f=Object(S.a)(i.spent.tokenAddress),g=Object(l.f)(b.l),p=Object(o.useState)(""),h=Object(a.a)(p,2),O=h[0],E=h[1],G=Object(l.e)(),z=Object(o.useState)(0),A=Object(a.a)(z,2),F=A[0],D=A[1],H=Object(o.useState)(),V=Object(a.a)(H,2),W=V[0],U=V[1],_=Object(o.useState)(),q=Object(a.a)(_,2),Q=q[0],Y=q[1];Object(o.useEffect)((function(){var e=i.beneficiary,t=i.spent.tokenAddress,n=Object(C.d)({beneficiary:e,tokenAddress:t});E(n)}),[i]);var J=Object(w.b)({txData:O,txRecipient:N.r,txAmount:"0",safeTxGas:F,manualGasPrice:W,manualGasLimit:Q}),K=J.gasCostFormatted,X=J.txEstimationExecutionStatus,$=J.isExecution,Z=J.isOffChainSignature,ee=J.isCreation,te=J.gasLimit,ne=J.gasEstimation,ae=J.gasPriceFormatted,re=Object(k.a)(X),ie=Object(a.a)(re,1)[0],oe=null!==(t=null===(n=Object(L.b)().find((function(e){return+e.value===+i.resetTime.resetTimeMin})))||void 0===n?void 0:n.label)&&void 0!==t?t:"",ce="Remove";return x.a.LOADING===ie&&(ce=X===w.a.LOADING?"Estimating":"Removing"),c.a.createElement(x.b,{handleClose:r,open:s,title:"Remove spending limit",description:"Remove the selected spending limit"},c.a.createElement(I.a,{isOffChainSignature:Z,isExecution:$,ethGasLimit:te,ethGasPrice:ae,safeTxGas:ne.toString(),closeEditModalCallback:function(e){var t=Number(ae),n=Number(e.ethGasPrice),a=Number(ne),r=Number(e.safeTxGas);n&&t!==n&&U(e.ethGasPrice),e.ethGasLimit&&te!==e.ethGasLimit&&Y(e.ethGasLimit),r&&a!==r&&D(r)}},(function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(x.b.Header,{onClose:r},c.a.createElement(x.b.Header.Title,{size:"xs",withoutMargin:!0},"Remove spending limit")),c.a.createElement(x.b.Body,null,c.a.createElement(d.a,{margin:"lg"},c.a.createElement(j.a,{title:"Beneficiary",address:i.beneficiary})),c.a.createElement(d.a,{margin:"lg"},f&&c.a.createElement(j.c,{amount:Object(R.a)(i.spent.amount,f.decimals),title:"Amount",token:f})),c.a.createElement(d.a,{margin:"lg"},c.a.createElement(j.b,{title:"Reset Time",label:oe})),c.a.createElement(B.a,{txParameters:e,onEdit:t,isTransactionCreation:ee,isTransactionExecution:$,isOffChainSignature:Z})),c.a.createElement(m.a,{className:v()(u.modalDescription,u.gasCostsContainer)},c.a.createElement(y.a,{gasCostFormatted:K,isExecution:$,isCreation:ee,isOffChainSignature:Z,txEstimationExecutionStatus:X})),c.a.createElement(x.b.Footer,{withoutBorder:ie!==x.a.LOADING},c.a.createElement(x.b.Footer.Buttons,{cancelButtonProps:{onClick:r},confirmButtonProps:{color:"error",onClick:function(){return function(e){try{G(Object(T.b)({safeAddress:g,to:N.r,valueInWei:"0",txData:O,txNonce:e.safeNonce,safeTxGas:e.safeTxGas?Number(e.safeTxGas):void 0,ethParameters:e,notifiedTransaction:P.c.REMOVE_SPENDING_LIMIT_TX}))}catch(t){console.error("failed to remove spending limit ".concat(i.beneficiary," -> ").concat(i.spent.tokenAddress),t.message)}}(e)},status:ie,text:ce}})))})))},z=n(19),A=n(78),F=n(541),D="beneficiary",H="spent",V="resetTime",W=n(245),U=n(1406);function _(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var q,Q,Y,J,K,X,$,Z,ee,te,ne=s.default.img(q||(q=Object(r.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),ae=s.default.div(Q||(Q=Object(r.a)(["\n  display: flex;\n  align-items: center;\n"]))),re=function(e){var t=e.amount,n=e.spent,r=e.tokenAddress,l=function(){var e=Object(o.useState)(_()),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){function e(){r(_())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width,s=Object(o.useMemo)((function(){return l>1024}),[l]),u=Object(S.a)(r),d=function(e){var t=e.amount,n=e.spent,a=e.tokenInfo;return Object(o.useMemo)((function(){if(a){var e=Object(W.a)(Object(R.a)(n,a.decimals)).toString();return{amount:Object(W.a)(Object(R.a)(t,a.decimals)).toString(),spent:e}}}),[t,n,a])}({amount:t,spent:n,tokenInfo:u});return d&&u?c.a.createElement(ae,null,s&&c.a.createElement(ne,{alt:u.name,onError:U.a,src:u.logoUri||""}),c.a.createElement(i.Text,{size:"lg"},"".concat(d.spent," of ").concat(d.amount," ").concat(u.symbol))):null},ie=function(e){var t=e.data,n=Object(M.a)(),r=Object(l.f)(f.b),s=function(){var e={align:"left",custom:!1,disablePadding:!1,id:D,label:"Beneficiary",order:!1},t={align:"left",custom:!1,disablePadding:!1,id:H,label:"Spent",order:!1,static:!0},n={align:"left",custom:!1,disablePadding:!1,id:V,label:"Reset Time",order:!1,static:!0},a={custom:!0,disablePadding:!1,id:"action",label:"",order:!1};return Object(A.a)([e,t,n,a])}(),u=s.filter((function(e){return!e.custom})),d=Object(o.useState)(),b=Object(a.a)(d,2),p=b[0],x=b[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{style:{minHeight:"440px"}},c.a.createElement(E.a,{columns:s,data:t,defaultFixed:!0,defaultOrderBy:D,defaultRowsPerPage:5,label:"Spending limits",noBorder:!0,size:null===t||void 0===t?void 0:t.length},(function(e){return e.map((function(t,a){return c.a.createElement(O.b,{className:v()(n.hide,a>=3&&a===e.size-1&&n.noBorderBottom),"data-testid":"spending-limit-table-row",key:a,tabIndex:-1},u.map((function(e,n){var a=e.id,r=t[a];return c.a.createElement(O.a,{align:e.align,component:"td",key:"".concat(a,"-").concat(n)},a===D&&c.a.createElement(j.a,{address:r}),a===H&&c.a.createElement(re,r),a===V&&c.a.createElement(i.Text,{size:"lg"},r.relativeTime))})),c.a.createElement(O.a,{component:"td"},c.a.createElement(m.a,{align:"end",className:n.actions},r&&c.a.createElement(h.a,{onClick:function(){return x(t)},"data-testid":"remove-limit-btn"},c.a.createElement(i.Icon,{size:"sm",type:"delete",color:"error",tooltip:"Remove limit"})))))}))}))),p&&c.a.createElement(G,{onClose:function(){return x(void 0)},spendingLimit:p,open:!0}))},oe=n(1),ce=n.n(oe),le=n(12),se=n(13),ue=n(248),de=n(54),me=n(1399),be=n(1560),fe=n(1391),ge=n(1426),pe=n(22),ve=n(333),he=n(1463),Oe=n(119),Ee=s.default.div(Y||(Y=Object(r.a)(["\n  grid-area: beneficiaryInput;\n"]))),je=s.default.div(J||(J=Object(r.a)(["\n  grid-area: beneficiaryScan;\n"]))),xe=function(){var e=Object(fe.e)().initialValues,t=Object(fe.d)().mutators,n=Object(o.useState)({address:(null===e||void 0===e?void 0:e.beneficiary)||"",name:""}),r=Object(a.a)(n,2),s=r[0],u=r[1],d=Object(o.useState)(!(null===e||void 0===e?void 0:e.beneficiary)),m=Object(a.a)(d,2),b=m[0],f=m[1];Object(o.useEffect)((function(){var e;null===s&&(null===t||void 0===t||null===(e=t.setBeneficiary)||void 0===e||e.call(t,""),b&&f(!1))}),[t,b,s]);var g=Object(l.f)(ve.f);return(null===s||void 0===s?void 0:s.address)?c.a.createElement(Ee,{role:"button","aria-pressed":"false",tabIndex:0,onKeyDown:function(e){Object(Oe.a)(e.key,"Tab")||u(null)},onClick:function(){u(null)}},c.a.createElement(i.EthHashInfo,{hash:s.address,name:s.name,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:Object(pe.d)(s.address)})):c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee,null,c.a.createElement(he.a,{fieldMutator:null===t||void 0===t?void 0:t.setBeneficiary,pristine:b,setSelectedEntry:u,setIsValidAddress:function(){},label:"Beneficiary"})),c.a.createElement(je,null,c.a.createElement(ge.a,{handleScan:function(e,n){var a,r,i,o=e.startsWith("ethereum:")?e.replace("ethereum:",""):e,c=null!==(a=null===(r=g[o])||void 0===r?void 0:r.name)&&void 0!==a?a:"";null===t||void 0===t||null===(i=t.setBeneficiary)||void 0===i||i.call(t,o),u({name:c,address:o}),n()}})))},ye=n(1758),ke=s.default.div(K||(K=Object(r.a)(["\n  grid-area: tokenInput;\n"]))),we=function(){var e=Object(l.f)(f.a);return c.a.createElement(ke,null,c.a.createElement(ye.a,{tokens:e}))},Se=s.default.div(X||(X=Object(r.a)(["\n  padding: 24px 8px 24px 24px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 4fr 1fr;\n  grid-template-rows: 6fr;\n  gap: 16px 8px;\n  grid-template-areas:\n    'beneficiaryInput beneficiaryScan'\n    'tokenInput .'\n    'amountInput .'\n    'resetTimeLabel resetTimeLabel'\n    'resetTimeToggle resetTimeToggle'\n    'resetTimeOption resetTimeOption';\n"]))),Te={setBeneficiary:function(e,t,n){n.changeValue(t,"beneficiary",(function(){return e[0]}))}},Pe=function(e){var t=e.invalid,n=e.submitting,a=e.dirtyFieldsSinceLastSubmit,r=e.values,i=r.beneficiary,o=r.token,c=r.amount;return!(n||t||!i||!o||!c||!a)},Ce=function(e){var t=e.initialValues,n=e.onCancel,a=e.onReview;return c.a.createElement(c.a.Fragment,null,c.a.createElement(x.b.Header,{onClose:n},c.a.createElement(x.b.Header.Title,null,"New spending limit",c.a.createElement(i.Text,{size:"lg",color:"secondaryLight",as:"span"},"1 of 2"))),c.a.createElement(me.a,{formMutators:Te,onSubmit:a,initialValues:t},(function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,null,c.a.createElement(xe,null),c.a.createElement(we,null),c.a.createElement(be.b,null),c.a.createElement(L.a,null)),c.a.createElement(x.b.Footer,null,c.a.createElement(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{disabled:!Pe(arguments.length<=2?void 0:arguments[2]),text:"Review"}})))})))},Re=n(313),Ie=function(e,t,n,a,r,i,o,c){var l,s=[];!Object(Re.d)(o,N.r)&&e&&s.push(Object(C.c)(e,t)),!(null!==(l=null===n||void 0===n?void 0:n.some((function(e){var t=e.delegate;return Object(de.f)(t,null===i||void 0===i?void 0:i.beneficiary)})))&&void 0!==l&&l)&&(null===i||void 0===i?void 0:i.beneficiary)&&s.push(Object(C.a)(i.beneficiary)),a&&"0"!==a.spent&&s.push(Object(C.e)(a.delegate,r.address));var u,d=Object(C.b)()-30,m={beneficiary:i.beneficiary,token:i.token,spendingLimitInWei:Object(R.c)(i.amount,r.decimals),resetTimeMin:i.withResetTime?+i.resetTime:0,resetBaseMin:i.withResetTime?d:0};if(e){if(0===s.length)u=Object(C.i)({spendingLimitArgs:m,safeAddress:e});else{var b=Object(C.h)({spendingLimitArgs:m,safeAddress:e});s.push(b),u=Object(C.k)({transactions:s,safeAddress:e})}c&&(u.txNonce=c.safeNonce,u.safeTxGas=c.safeTxGas?Number(c.safeTxGas):void 0,u.ethParameters=c)}return{spendingLimitTxData:u,transactions:s,spendingLimitArgs:m}},Be=function(e){var t,n=e.onBack,r=e.onClose,s=e.txToken,u=e.values,f=Object(M.a)(),g=Object(l.e)(),p=null!==(t=Object(l.f)(b.a))&&void 0!==t?t:{},v=p.address,h=void 0===v?"":v,O=p.spendingLimits,E=p.currentVersion,S=void 0===E?"":E,P=p.modules,C=function(e){var t=e.spendingLimits,n=e.txToken,a=e.values;return Object(o.useMemo)((function(){var e=null===t||void 0===t?void 0:t.find((function(e){var t=e.delegate,n=e.token;return Object(de.f)(t,a.beneficiary)&&Object(de.f)(n,a.token)}));return void 0!==e?Object(se.a)(Object(se.a)({},e),{},{amount:Object(R.a)(e.amount,n.decimals)}):null}),[t,n.decimals,a.beneficiary,a.token])}({spendingLimits:O,txToken:s,values:u}),N=Object(o.useState)({to:"",txData:""}),G=Object(a.a)(N,2),z=G[0],A=G[1],F=Object(o.useState)(0),D=Object(a.a)(F,2),H=D[0],V=D[1],W=Object(o.useState)(),U=Object(a.a)(W,2),_=U[0],q=U[1],Q=Object(o.useState)(),Y=Object(a.a)(Q,2),J=Y[0],K=Y[1],X=Object(w.b)({txData:z.txData,txRecipient:z.to,operation:z.operation,safeTxGas:H,manualGasPrice:_,manualGasLimit:J}),$=X.gasCostFormatted,Z=X.txEstimationExecutionStatus,ee=X.isExecution,te=X.isCreation,ne=X.isOffChainSignature,ae=X.gasPrice,re=X.gasPriceFormatted,ie=X.gasLimit,oe=X.gasEstimation,ce=Object(k.a)(Z),le=Object(a.a)(ce,1)[0],me=Object(o.useMemo)((function(){return(null===P||void 0===P?void 0:P.map((function(e){return e[1]})))||[]}),[P]);Object(o.useEffect)((function(){var e=Ie(h,S,O,C,s,u,me).spendingLimitTxData;A(e)}),[h,S,O,C,s,u,me]);var be=Object(o.useMemo)((function(){var e;return u.withResetTime?null===(e=Object(L.b)().find((function(e){return e.value===u.resetTime})))||void 0===e?void 0:e.label:""}),[u.resetTime,u.withResetTime]),fe="Submit";return x.a.LOADING===le&&(fe=Z===w.a.LOADING?"Estimating":"Submitting"),c.a.createElement(I.a,{isOffChainSignature:ne,isExecution:ee,ethGasLimit:ie,ethGasPrice:re,safeTxGas:oe.toString(),closeEditModalCallback:function(e){var t=Number(re),n=Number(e.ethGasPrice),a=Number(oe),r=Number(e.safeTxGas);n&&t!==n&&q(e.ethGasPrice),e.ethGasLimit&&ie!==e.ethGasLimit&&K(e.ethGasLimit),r&&a!==r&&V(r)}},(function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(x.b.Header,{onClose:r},c.a.createElement(x.b.Header.Title,null,"New spending limit",c.a.createElement(i.Text,{size:"lg",color:"secondaryLight",as:"span"},"2 of 2"))),c.a.createElement(x.b.Body,null,c.a.createElement(d.a,{margin:"lg"},c.a.createElement(j.a,{address:u.beneficiary,title:"Beneficiary"})),c.a.createElement(d.a,{margin:"lg"},c.a.createElement(j.c,{amount:Object(R.a)(Object(R.c)(u.amount,s.decimals),s.decimals),title:"Amount",token:s}),C&&c.a.createElement(i.Text,{size:"lg",color:"error"},"Previous Amount: ",C.amount)),c.a.createElement(d.a,{margin:"lg"},c.a.createElement(j.b,{title:"Reset Time",label:be}),C&&c.a.createElement(m.a,{align:"center",margin:"md"},c.a.createElement(i.Text,{size:"lg",color:"error"},"Previous Reset Time: ",function(e){var t,n;return null!==(t=null===(n=Object(L.b)().find((function(t){return t.value===(+e.resetTimeMin).toString()})))||void 0===n?void 0:n.label)&&void 0!==t?t:"One-time spending limit"}(C)))),C&&c.a.createElement(d.a,{margin:"md"},c.a.createElement(i.Text,{size:"xl",color:"error",center:!0,strong:!0},"You are about to replace an existent spending limit")),c.a.createElement(B.a,{txParameters:e,onEdit:t,isTransactionCreation:te,isTransactionExecution:ee,isOffChainSignature:ne})),c.a.createElement("div",{className:f.gasCostsContainer},c.a.createElement(y.a,{gasCostFormatted:$,isExecution:ee,isCreation:te,isOffChainSignature:ne,txEstimationExecutionStatus:Z})),c.a.createElement(x.b.Footer,{withoutBorder:le!==x.a.LOADING},c.a.createElement(x.b.Footer.Buttons,{cancelButtonProps:{onClick:function(){return n({values:{},txToken:Object(ue.a)(),step:Ne})},text:"Back"},confirmButtonProps:{onClick:function(){return function(e){var t=e.ethGasPrice,n=e.ethGasLimit,a=e.ethGasPriceInGWei,r=Object(se.a)(Object(se.a)({},e),{},{ethGasPrice:t||ae,ethGasPriceInGWei:a||re,ethGasLimit:n||ie});if(h){var i=Ie(h,S,O,C,s,u,me,r).spendingLimitTxData;g(Object(T.b)(i))}}(e)},disabled:void 0===C,status:le,text:fe}})))}))},Ne="CREATE",Le="REVIEW",Me=function(e,t){var n=t.type,a=t.newState,r=t.tokens;switch(n){case Ne:return Object(se.a)(Object(se.a)({},e),{},{step:Ne});case Le:var i;return Object(se.a)(Object(se.a)(Object(se.a)({},e),a),{},{txToken:null!==(i=r.find((function(e){return Object(de.f)(e.address,a.values.token)})))&&void 0!==i?i:e.txToken,step:Le})}},Ge=function(e){var t=e.close,n=e.open,r=function(e){var t=Object(l.f)(f.a),n=Object(o.useReducer)(Me,{step:e,txToken:Object(ue.a)(),values:{}},(function(e){return e})),r=Object(a.a)(n,2),i=r[0],c=r[1];return[i,{create:Object(o.useCallback)((function(e){return c({type:Ne,newState:e,tokens:t})}),[t]),review:Object(o.useCallback)((function(e){return c({type:Le,newState:e,tokens:t})}),[t])}]}(Ne),i=Object(a.a)(r,2),s=i[0],u=s.step,d=s.txToken,m=s.values,b=i[1],g=b.create,p=b.review,v=function(){var e=Object(le.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p({step:u,txToken:d,values:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(x.b,{handleClose:t,open:n,title:"New spending limit",description:"set rules for specific beneficiaries to access funds from this Safe without having to collect all signatures"},u===Ne&&c.a.createElement(Ce,{initialValues:m,onCancel:t,onReview:v}),u===Le&&c.a.createElement(Be,{onBack:g,onClose:t,txToken:d,values:m}))},ze=n(126),Ae=n.p+"static/media/asset-amount.98054bf3.svg",Fe=n.p+"static/media/beneficiary.0beb8d31.svg",De=n.p+"static/media/time.31d09fca.svg",He=s.default.div($||($=Object(r.a)(["\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n  max-width: 720px;\n  text-align: center;\n"]))),Ve=s.default.div(Z||(Z=Object(r.a)(["\n  width: 24%;\n  min-width: 120px;\n  max-width: 164px;\n"]))),We=s.default.div(ee||(ee=Object(r.a)(["\n  height: 2px;\n  flex: 1;\n  background: #d4d5d3;\n  margin: 46px 0;\n"]))),Ue=function(){return c.a.createElement(He,null,c.a.createElement(Ve,null,c.a.createElement(ze.a,{alt:"Select Beneficiary",title:"Beneficiary",height:96,src:Fe}),c.a.createElement(i.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0},"Select Beneficiary"),c.a.createElement(i.Text,{size:"lg",color:"placeHolder",center:!0},"Define beneficiary that will be able to use the allowance."),c.a.createElement(i.Text,{size:"lg",color:"placeHolder",center:!0},"The beneficiary does not have to be an owner of this Safe")),c.a.createElement(We,null),c.a.createElement(Ve,null,c.a.createElement(ze.a,{alt:"Select asset and amount",title:"Asset and Amount",height:96,src:Ae}),c.a.createElement(i.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0},"Select asset and amount"),c.a.createElement(i.Text,{size:"lg",color:"placeHolder",center:!0},"You can set a spending limit for any asset stored in your Safe")),c.a.createElement(We,null),c.a.createElement(Ve,null,c.a.createElement(ze.a,{alt:"Select time",title:"Time",height:96,src:De}),c.a.createElement(i.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0},"Select time"),c.a.createElement(i.Text,{size:"lg",color:"placeHolder",center:!0},"You can choose to set a one-time spending limit or to have it automatically refill after a defined time-period")))},_e=Object(s.default)(i.Text)(te||(te=Object(r.a)(["\n  margin-top: 16px;\n"])));t.default=function(){var e,t=Object(M.a)(),n=Object(l.f)(f.b),r=Object(l.f)(b.g),s=null===(e=r)||void 0===e?void 0:e.map((function(e){var t;return t={},Object(z.a)(t,D,e.delegate),Object(z.a)(t,H,{spent:e.spent,amount:e.amount,tokenAddress:e.token}),Object(z.a)(t,V,{relativeTime:Object(F.f)(e.lastResetMin,e.resetTimeMin),lastResetMin:e.lastResetMin,resetTimeMin:e.resetTimeMin}),t})),g=Object(o.useState)(!1),p=Object(a.a)(g,2),v=p[0],h=p[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{className:t.container,grow:"grow"},c.a.createElement(i.Title,{size:"xs",withoutMargin:!0},"Spending limit"),c.a.createElement(_e,{size:"lg"},"You can set rules for specific beneficiaries to access funds from this Safe without having to collect all signatures."),(null===s||void 0===s?void 0:s.length)?c.a.createElement(ie,{data:s}):c.a.createElement(Ue,null)),n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{align:"end",className:t.buttonRow,grow:!0},c.a.createElement(d.a,{end:"xs"},c.a.createElement(i.Button,{className:t.actionButton,color:"primary",size:"md","data-testid":"new-spending-limit-button",onClick:function(){h(!0)},variant:"contained"},"New spending limit"))),v&&c.a.createElement(Ge,{close:function(){h(!1)},open:!0})))}}}]);
//# sourceMappingURL=40.1d08f5ac.chunk.js.map