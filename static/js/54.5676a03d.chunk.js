(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[54],{1351:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(23),c=n(0),i=n.n(c),o=n(395),s=n(55),u=n(22),l=n(286),d=n(139),f=n(118),m=n(155),g=n(126),b=n(86),h=n(107),x=n(65),p=n(342),v=n(1467),E=n(1663),O=n(1406),j=n(429),y=n(1420),C=n(67),S=n(1444),A=n(1410),k=n(333),N=n(1427),w=n(332),T=n(1424),M=n(1423),G=Object(o.a)(v.a),R=Object(u.k)().nativeCoin;t.default=function(e){var t=e.onClose,n=e.onPrev,o=e.tx,v=Object(u.d)(o.contractAddress),D=G(),z=Object(s.e)(),F=Object(s.f)(C.l),P=Object(c.useState)(0),I=Object(a.a)(P,2),B=I[0],L=I[1],V=Object(c.useState)(),H=Object(a.a)(V,2),_=H[0],J=H[1],q=Object(c.useState)(),U=Object(a.a)(q,2),W=U[0],X=U[1],$=Object(s.f)((function(e){return Object(k.b)(e,{address:o.contractAddress})})),K=Object(c.useState)({txData:"",txAmount:"",txRecipient:""}),Q=Object(a.a)(K,2),Y=Q[0],Z=Q[1],ee=Object(A.b)({txRecipient:null===Y||void 0===Y?void 0:Y.txRecipient,txAmount:null===Y||void 0===Y?void 0:Y.txAmount,txData:null===Y||void 0===Y?void 0:Y.txData,safeTxGas:B,manualGasPrice:_,manualGasLimit:W}),te=ee.gasLimit,ne=ee.gasEstimation,ae=ee.gasPriceFormatted,re=ee.gasCostFormatted,ce=ee.txEstimationExecutionStatus,ie=ee.isExecution,oe=ee.isOffChainSignature,se=ee.isCreation,ue=Object(N.a)(ce),le=Object(a.a)(ue,1)[0];Object(c.useEffect)((function(){Z({txRecipient:o.contractAddress,txAmount:o.value?Object(l.c)(o.value,R.decimals):"0",txData:o.data?o.data.trim():""})}),[o.contractAddress,o.value,o.data,F]);return i.a.createElement(M.a,{isOffChainSignature:oe,isExecution:ie,ethGasLimit:te,ethGasPrice:ae,safeTxGas:ne.toString(),closeEditModalCallback:function(e){var t=Number(ae),n=Number(e.ethGasPrice),a=Number(ne),r=Number(e.safeTxGas);n&&t!==n&&J(e.ethGasPrice),e.ethGasLimit&&te!==e.ethGasLimit&&X(e.ethGasLimit),r&&a!==r&&L(r)}},(function(e,a){var c,s,u;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{onClose:t,subTitle:"2 of 2",title:"Contract interaction"}),i.a.createElement(m.a,null),i.a.createElement(d.a,{className:D.formContainer},i.a.createElement(h.a,{margin:"xs"},i.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Contract Address")),i.a.createElement(h.a,{align:"center",margin:"md"},i.a.createElement(r.EthHashInfo,{hash:o.contractAddress,name:$,showAvatar:!0,showCopyBtn:!0,explorerUrl:v})),i.a.createElement(h.a,{margin:"xs"},i.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Value")),i.a.createElement(h.a,{align:"center",margin:"md"},i.a.createElement(f.a,{xs:1},i.a.createElement(g.a,{alt:"Ether",height:28,onError:O.a,src:Object(p.b)("0").logoUri||""})),i.a.createElement(f.a,{layout:"column",xs:11},i.a.createElement(d.a,{justify:"left"},i.a.createElement(b.a,{className:D.value,noMargin:!0,size:"md",style:{margin:0}},o.value||0," "+R.name)))),i.a.createElement(h.a,{margin:"xs"},i.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Method")),i.a.createElement(h.a,{align:"center",margin:"md"},i.a.createElement(b.a,{className:D.value,size:"md",style:{margin:0}},null===(c=o.selectedMethod)||void 0===c?void 0:c.name)),null===(s=o.selectedMethod)||void 0===s||null===(u=s.inputs)||void 0===u?void 0:u.map((function(e,t){var n,a=e.name,r=e.type,c=Object(S.e)(r,(null===(n=o.selectedMethod)||void 0===n?void 0:n.signatureHash)||"",t),s=Object(S.f)(c,r,o);return i.a.createElement(i.a.Fragment,{key:c},i.a.createElement(h.a,{margin:"xs"},i.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},a," (",r,")")),i.a.createElement(h.a,{align:"center",margin:"md"},i.a.createElement(b.a,{className:D.value,noMargin:!0,size:"md",style:{margin:0}},s)))})),i.a.createElement(h.a,{margin:"xs"},i.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Data (hex encoded)")),i.a.createElement(h.a,{align:"center",margin:"md"},i.a.createElement(f.a,{className:D.outerData},i.a.createElement(h.a,{className:D.data,size:"md"},o.data))),i.a.createElement(y.a,{txParameters:e,onEdit:a,isTransactionCreation:se,isTransactionExecution:ie,isOffChainSignature:oe})),i.a.createElement("div",{className:D.gasCostsContainer},i.a.createElement(T.a,{gasCostFormatted:re,isExecution:ie,isCreation:se,isOffChainSignature:oe,txEstimationExecutionStatus:ce})),i.a.createElement(w.b.Footer,{withoutBorder:le!==w.a.LOADING},i.a.createElement(w.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Back"},confirmButtonProps:{onClick:function(){return function(e){F&&Y?z(Object(j.b)({safeAddress:F,to:null===Y||void 0===Y?void 0:Y.txRecipient,valueInWei:null===Y||void 0===Y?void 0:Y.txAmount,txData:null===Y||void 0===Y?void 0:Y.txData,txNonce:e.safeNonce,safeTxGas:e.safeTxGas?Number(e.safeTxGas):void 0,ethParameters:e,notifiedTransaction:x.c.STANDARD_TX})):console.error("There was an error trying to submit the transaction, the safeAddress was not found"),t()}(e)},status:le,text:ce===A.a.LOADING?"Estimating":void 0,testId:"submit-tx-btn"}})))}))}},1406:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1409),r=function(e){var t=e.currentTarget;/token_placeholder/.test(t.src)||(t.src=a.a)};n(432)},1409:function(e,t,n){"use strict";t.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1444:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return x})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return v})),n.d(t,"k",(function(){return E})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return S})),n.d(t,"m",(function(){return A})),n.d(t,"f",(function(){return k}));var a=n(102),r=n(19),c=n(1),i=n.n(c),o=n(12),s=n(1466),u=n(1487),l=n(30),d=n(54),f=n(91),m="no contract",g=Object(u.a)({field:"contractAddress",updates:{contractAddress:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=Object(d.e)(t)||Object(d.d)(t),!e.t0){e.next=6;break}return e.next=5,Object(l.b)(t);case 5:e.t0=e.sent;case 6:if(!(n=e.t0)){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",t);case 12:return e.prev=12,e.t1=e.catch(0),console.error(e.t1.message),e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}}),b={setMax:function(e,t,n){n.changeValue(t,"value",(function(){return e[0]}))},setContractAddress:function(e,t,n){n.changeValue(t,"contractAddress",(function(){return e[0]}))},setSelectedMethod:function(e,t,n){var a;(null===(a=t.lastFormState)||void 0===a?void 0:a.values.selectedMethod)&&t.lastFormState.values.selectedMethod.name!==e[0].name&&(n.changeValue(t,"callResults",(function(){return""})),n.changeValue(t,"value",(function(){return""}))),n.changeValue(t,"selectedMethod",(function(){return e[0]}))},setCallResults:function(e,t,n){n.changeValue(t,"callResults",(function(){return e[0]}))},setAbiValue:function(e,t,n){n.changeValue(t,"abi",(function(){return e[0]}))}},h=function(e){return 0===e.indexOf("address")},x=function(e){return 0===e.indexOf("bool")},p=function(e){return 0===e.indexOf("uint")},v=function(e){return 0===e.indexOf("int")},E=function(e){return 0===e.indexOf("byte")},O=function(e){return/(\[\d*])+$/.test(e)},j=function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e&&t[n]===e.value)return Object(r.a)({},n,e.reason);return Object(r.a)({},s.a,e?e.message:void 0)},y=function(e,t,n){var a=O(e)?"arrayParam":e;return"methodInput-".concat(t,"_").concat(n,"_").concat(a)},C=function(e,t){return function(n,a){var r=n.type,c=y(r,e,a);return function(e){try{return JSON.parse(e).map((function(e){return Number.isInteger(e)?new f.BigNumber(e).toString():e}))}catch(t){return null}}(t[c])||t[c]}},S=function(e,t,n){var r,c=new(Object(l.f)().eth.Contract)([e],t),i=e.inputs,o=e.name,s=void 0===o?"":o,u=e.signatureHash,d=(null===i||void 0===i?void 0:i.map(C(u,n)))||[];return(r=c.methods)[s].apply(r,Object(a.a)(d))},A=function(e){return e&&"read"===e.action},k=function(e,t,n){O(t)&&(e=e.replace("[]",""));var a=n[e];return"bool"===t&&(a=String(a)),a}},1467:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(11),r=n(499),c=Object(r.a)({heading:{padding:"".concat(a.md," ").concat(a.lg),justifyContent:"flex-start",boxSizing:"border-box",maxHeight:"74px"},annotation:{letterSpacing:"-1px",color:a.secondaryText,marginRight:"auto",marginLeft:"20px"},headingText:{fontSize:a.lg},closeIcon:{height:"35px",width:"35px"},qrCodeBtn:{cursor:"pointer"},formContainer:{padding:"".concat(a.md," ").concat(a.lg),wordBreak:"break-word"},value:{marginLeft:a.sm},outerData:{borderRadius:"5px",border:"1px solid ".concat(a.border),padding:"11px",minHeight:"21px"},data:{wordBreak:"break-all",overflow:"auto",fontSize:"14px",fontFamily:"Averta",maxHeight:"100px",letterSpacing:"normal",fontStretch:"normal",lineHeight:"1.43"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},dataInput:{"& TextField-root-294":{lineHeight:"auto",border:"green"}},selectAddress:{cursor:"pointer"},fullWidth:{justifyContent:"space-between"},gasCostsContainer:{backgroundColor:a.background,padding:"0 ".concat(a.lg)}})},1487:function(e,t,n){"use strict";var a=n(1466),r=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},c=function(e,t){return e===t};t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n={};return e.subscribe((function(i){var o=i.values;e.batch((function(){var i=function(t,c,i){var s=o&&Object(a.e)(o,t),u=n&&Object(a.e)(n,t);if(!c(s,u))if("function"===typeof i){var l=i(s,t,o,n);r(l)?l.then((function(t){Object.keys(t).forEach((function(n){e.change(n,t[n])}))})):Object.keys(l).forEach((function(t){e.change(t,l[t])}))}else Object.keys(i).forEach((function(t){var a=(0,i[t])(s,o,n);r(a)?a.then((function(n){e.change(t,n)})):e.change(t,a)}))},s=e.getRegisteredFields();t.forEach((function(e){var t=e.field,n=e.isEqual,a=e.updates;if("string"===typeof t)i(t,n||c,a);else{var r=Array.isArray(t)?function(e){return~t.indexOf(e)||-1!==t.findIndex((function(t){return t instanceof RegExp&&t.test(e)}))}:function(e){return t.test(e)};s.forEach((function(e){r(e)&&i(e,n||c,a)}))}})),n=o}))}),{values:!0})}}},1663:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(321),r=n(395),c=n(525),i=n.n(c),o=n(0),s=n.n(o),u=n(86),l=n(107),d=n(1467),f=Object(r.a)(d.a),m=function(e){var t=e.onClose,n=e.subTitle,r=e.title,c=f();return s.a.createElement(l.a,{align:"center",className:c.heading,grow:!0},s.a.createElement(u.a,{className:c.headingText,noMargin:!0,weight:"bolder"},r),s.a.createElement(u.a,{className:c.annotation},n),s.a.createElement(a.a,{disableRipple:!0,onClick:t},s.a.createElement(i.a,{className:c.closeIcon})))}}}]);
//# sourceMappingURL=54.5676a03d.chunk.js.map