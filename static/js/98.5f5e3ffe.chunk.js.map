{"version":3,"sources":["routes/safe/components/Settings/style.ts","components/layout/Span/index.tsx","routes/safe/components/Settings/index.tsx"],"names":["styles","createStyles","root","backgroundColor","borderRadius","sm","boxShadow","display","flexDirection","marginBottom","minHeight","screenSm","contents","width","container","flexGrow","height","position","links","textDecoration","marginRight","cursor","removeSafeBtn","alignItems","marginTop","counter","background","border","color","fontColor","lineHeight","margin","padding","xs","fontSize","Span","this","props","children","React","Advanced","lazy","SpendingLimitSettings","ManageOwners","RemoveSafeModal","SafeDetails","ThresholdSettings","OWNERS_SETTINGS_TAB_TEST_ID","INITIAL_STATE","showRemoveSafe","useStyles","makeStyles","Settings","settingsSection","classes","useState","state","setState","useSelector","currentSafeWithNames","safeAddress","address","owners","loadedViaUrl","granted","grantedSelector","useRouteMatch","path","SAFELIST_ADDRESS","url","generatePath","SAFE_ROUTES","SETTINGS_DETAILS","SETTINGS_OWNERS","SETTINGS_POLICIES","SETTINGS_SPENDING_LIMIT","SETTINGS_ADVANCED","action","Col","start","iconType","text","end","ButtonLink","className","onClick","prevState","size","type","tooltip","isOpen","onClose","onHide","Block","layout","exact","render"],"mappings":"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","file":"static/js/98.5f5e3ffe.chunk.js","sourcesContent":["import { createStyles } from '@material-ui/core'\n\nimport { border, fontColor, screenSm, sm, xs } from 'src/theme/variables'\n\nexport const styles = createStyles({\n  root: {\n    backgroundColor: 'white',\n    borderRadius: sm,\n    boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\n    display: 'flex',\n    flexDirection: 'column',\n    marginBottom: '54px',\n    minHeight: '505px',\n\n    [`@media (min-width: ${screenSm}px)`]: {\n      flexDirection: 'row',\n    },\n  },\n  contents: {\n    width: '100%',\n  },\n  container: {\n    flexGrow: 1,\n    height: '100%',\n    position: 'relative',\n  },\n  links: {\n    textDecoration: 'underline',\n    marginRight: '6px',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n  removeSafeBtn: {\n    display: 'flex',\n    alignItems: 'center',\n    marginTop: '-1px', // to make it the same as row in Balances component\n  },\n  counter: {\n    background: border,\n    borderRadius: '3px',\n    color: fontColor,\n    lineHeight: 'normal',\n    margin: `-2px 0 -2px ${sm}`,\n    padding: xs,\n    fontSize: '11px',\n  },\n})\n","import * as React from 'react'\n\nclass Span extends React.PureComponent<any> {\n  render() {\n    const { children, ...props } = this.props\n\n    return <span {...props}>{children}</span>\n  }\n}\n\nexport default Span\n","import { Breadcrumb, BreadcrumbElement, Loader, Icon, Menu } from '@gnosis.pm/safe-react-components'\nimport { LoadingContainer } from 'src/components/LoaderContainer'\nimport { makeStyles } from '@material-ui/core/styles'\nimport React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { generatePath, Route, Switch, useRouteMatch } from 'react-router-dom'\n\nimport { styles } from './style'\n\nimport { SAFE_ROUTES, SAFELIST_ADDRESS } from 'src/routes/routes'\nimport Block from 'src/components/layout/Block'\nimport ButtonLink from 'src/components/layout/ButtonLink'\nimport Col from 'src/components/layout/Col'\nimport Span from 'src/components/layout/Span'\nimport { currentSafeWithNames } from 'src/logic/safe/store/selectors'\nimport { grantedSelector } from 'src/routes/safe/container/selector'\n\nconst Advanced = React.lazy(() => import('./Advanced'))\nconst SpendingLimitSettings = React.lazy(() => import('./SpendingLimit'))\nconst ManageOwners = React.lazy(() => import('./ManageOwners'))\nconst RemoveSafeModal = React.lazy(() => import('./RemoveSafeModal'))\nconst SafeDetails = React.lazy(() => import('./SafeDetails'))\nconst ThresholdSettings = React.lazy(() => import('./ThresholdSettings'))\n\nexport const OWNERS_SETTINGS_TAB_TEST_ID = 'owner-settings-tab'\n\nconst INITIAL_STATE = {\n  showRemoveSafe: false,\n}\n\nconst useStyles = makeStyles(styles)\n\nconst Settings = (): React.ReactElement => {\n  const classes = useStyles()\n  const [state, setState] = useState(INITIAL_STATE)\n  const { address: safeAddress, owners, loadedViaUrl } = useSelector(currentSafeWithNames)\n  const granted = useSelector(grantedSelector)\n  const matchSafeWithAction = useRouteMatch({\n    path: `${SAFELIST_ADDRESS}/:safeAddress/:safeAction/:safeSubaction?`,\n  }) as {\n    url: string\n    params: Record<string, string>\n  }\n\n  let settingsSection\n  switch (matchSafeWithAction.url) {\n    case generatePath(SAFE_ROUTES.SETTINGS_DETAILS, {\n      safeAddress,\n    }):\n      settingsSection = 'Safe Details'\n      break\n    case generatePath(SAFE_ROUTES.SETTINGS_OWNERS, {\n      safeAddress,\n    }):\n      settingsSection = 'Owners'\n      break\n    case generatePath(SAFE_ROUTES.SETTINGS_POLICIES, {\n      safeAddress,\n    }):\n      settingsSection = 'Policies'\n      break\n    case generatePath(SAFE_ROUTES.SETTINGS_SPENDING_LIMIT, {\n      safeAddress,\n    }):\n      settingsSection = 'Spending Limit'\n      break\n    case generatePath(SAFE_ROUTES.SETTINGS_ADVANCED, {\n      safeAddress,\n    }):\n      settingsSection = 'Advanced'\n      break\n    default:\n      settingsSection = ''\n  }\n\n  const onShow = (action) => () => {\n    setState((prevState) => ({ ...prevState, [`show${action}`]: true }))\n  }\n\n  const onHide = (action) => () => {\n    setState((prevState) => ({ ...prevState, [`show${action}`]: false }))\n  }\n\n  const { showRemoveSafe } = state\n\n  return !owners ? (\n    <LoadingContainer>\n      <Loader size=\"md\" />\n    </LoadingContainer>\n  ) : (\n    <>\n      <Menu>\n        <Col start=\"sm\" sm={6} xs={12}>\n          <Breadcrumb>\n            <BreadcrumbElement iconType=\"settings\" text=\"SETTINGS\" />\n            <BreadcrumbElement text={settingsSection} color=\"placeHolder\" />\n          </Breadcrumb>\n        </Col>\n        {!loadedViaUrl ? (\n          <Col end=\"sm\" sm={6} xs={12}>\n            <ButtonLink className={classes.removeSafeBtn} color=\"error\" onClick={onShow('RemoveSafe')} size=\"lg\">\n              <Span className={classes.links}>Remove Safe</Span>\n              <Icon size=\"sm\" type=\"delete\" color=\"error\" tooltip=\"Remove Safe\" />\n            </ButtonLink>\n            <RemoveSafeModal isOpen={showRemoveSafe} onClose={onHide('RemoveSafe')} />\n          </Col>\n        ) : (\n          <Col end=\"sm\" sm={6} xs={12}></Col>\n        )}\n      </Menu>\n      <Block className={classes.root}>\n        <Col className={classes.contents} layout=\"column\">\n          <Block className={classes.container}>\n            <Switch>\n              <Route\n                path={generatePath(SAFE_ROUTES.SETTINGS_DETAILS, {\n                  safeAddress,\n                })}\n                exact\n                render={() => <SafeDetails />}\n              ></Route>\n              <Route\n                path={generatePath(SAFE_ROUTES.SETTINGS_OWNERS, {\n                  safeAddress,\n                })}\n                exact\n                render={() => <ManageOwners granted={granted} owners={owners} />}\n              ></Route>\n              <Route\n                path={generatePath(SAFE_ROUTES.SETTINGS_POLICIES, {\n                  safeAddress,\n                })}\n                exact\n                render={() => <ThresholdSettings />}\n              ></Route>\n              <Route\n                path={generatePath(SAFE_ROUTES.SETTINGS_SPENDING_LIMIT, {\n                  safeAddress,\n                })}\n                exact\n                render={() => <SpendingLimitSettings />}\n              ></Route>\n              <Route\n                path={generatePath(SAFE_ROUTES.SETTINGS_ADVANCED, {\n                  safeAddress,\n                })}\n                exact\n                render={() => <Advanced />}\n              ></Route>\n            </Switch>\n          </Block>\n        </Col>\n      </Block>\n    </>\n  )\n}\n\nexport default Settings\n"],"sourceRoot":""}