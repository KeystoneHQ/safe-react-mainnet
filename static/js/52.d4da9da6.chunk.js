(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[52],{1357:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),i=a(48),s=a(321),o=a(395),u=a(525),l=a.n(u),d=a(0),m=a.n(d),b=a(55),f=a(23),p=a(286),g=a(22),h=a(1419),x=a(139),O=a(118),j=a(155),v=a(126),E=a(86),w=a(107),k=a(279),C=a(429),A=a(67),y=a(65),S=a(1536),N=a(54),G=a(105),T=a(1431),L=a(1406),D=a(241),I=a(119),P=a(1410),B=a(1427),z=a(332),M=a(1424),R=a(11),F=a(499),_=Object(F.a)({heading:{padding:"".concat(R.md," ").concat(R.lg),justifyContent:"flex-start",boxSizing:"border-box",maxHeight:"74px"},annotation:{letterSpacing:"-1px",color:R.secondaryText,marginRight:"auto",marginLeft:"20px"},headingText:{fontSize:R.lg},closeIcon:{height:"35px",width:"35px"},container:{padding:"".concat(R.md," ").concat(R.lg)},amount:{marginLeft:R.sm},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},gasCostsContainer:{backgroundColor:R.background,padding:"0 ".concat(R.lg)}}),H=a(1423),U=a(1420),J=a(29),Y=Object(o.a)(_),W=Object(g.k)().nativeCoin;t.default=function(e){var t=e.onClose,a=e.onPrev,n=e.tx,o=Y(),u=Object(b.e)(),R=Object(b.f)(A.l),F=Object(b.f)(D.a),_=Object(d.useMemo)((function(){return F.find((function(e){return Object(N.f)(e.address,n.token)}))}),[F,n.token]),X=Object(d.useMemo)((function(){return Object(N.f)(null===_||void 0===_?void 0:_.address,W.address)}),[_]),q=X?n.recipientAddress:(null===_||void 0===_?void 0:_.address)||"",K=X?Object(p.c)(n.amount,W.decimals):"0",Q=function(e,t,a,n){var s=Object(d.useState)(""),o=Object(i.a)(s,2),u=o[0],l=o[1];return Object(d.useEffect)((function(){!function(){var i=Object(c.a)(r.a.mark((function c(){var i,s,o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return");case 2:i=G.a,e||(s=Object(S.b)(n.address),o=Object(p.c)(t,n.decimals),i=s.methods.transfer(a,o).encodeABI()),l(i);case 5:case"end":return r.stop()}}),c)})));return function(){return i.apply(this,arguments)}}()()}),[e,a,t,n]),u}(X,n.amount,n.recipientAddress,_),V=Object(d.useState)(0),Z=Object(i.a)(V,2),$=Z[0],ee=Z[1],te=Object(d.useState)(),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],ce=Object(d.useState)(),ie=Object(i.a)(ce,2),se=ie[0],oe=ie[1],ue=Object(P.b)({txData:Q,txRecipient:q,txType:n.txType,txAmount:K,safeTxGas:$,manualGasPrice:ne,manualGasLimit:se}),le=ue.gasCostFormatted,de=ue.gasPriceFormatted,me=ue.gasLimit,be=ue.gasEstimation,fe=ue.txEstimationExecutionStatus,pe=ue.isExecution,ge=ue.isCreation,he=ue.isOffChainSignature,xe=Object(B.a)(fe),Oe=Object(i.a)(xe,2),je=Oe[0],ve=Oe[1],Ee=Object(I.a)(n.txType,"spendingLimit"),we=function(){var e=Object(c.a)(r.a.mark((function e(a){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve(z.a.LOADING),R){e.next=5;break}return ve(z.a.READY),Object(J.c)(J.b._802),e.abrupt("return");case 5:if(!(Ee&&_&&n.tokenSpendingLimit)){e.next=18;break}return c=X?N.a:_.address,i=Object(k.a)(),e.prev=8,e.next=11,i.methods.executeAllowanceTransfer(R,c,n.recipientAddress,Object(p.c)(n.amount,_.decimals),N.a,0,n.tokenSpendingLimit.delegate,G.a).send({from:n.tokenSpendingLimit.delegate}).on("transactionHash",(function(){return t()}));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(8),ve(z.a.READY),Object(J.c)(J.b._801,e.t0.message);case 17:return e.abrupt("return");case 18:u(Object(C.b)({safeAddress:R,to:q,valueInWei:K,txData:Q,txNonce:a.safeNonce,safeTxGas:a.safeTxGas?Number(a.safeTxGas):void 0,ethParameters:a,notifiedTransaction:y.c.STANDARD_TX})),t();case 20:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement(H.a,{isOffChainSignature:he,isExecution:pe,ethGasLimit:me,ethGasPrice:de,safeTxGas:be.toString(),closeEditModalCallback:function(e){var t=Number(de),a=Number(e.ethGasPrice),n=Number(be),r=Number(e.safeTxGas);a&&t!==a&&re(e.ethGasPrice),e.ethGasLimit&&me!==e.ethGasLimit&&oe(e.ethGasLimit),r&&n!==r&&ee(r)}},(function(e,r){return m.a.createElement(m.a.Fragment,null,m.a.createElement(w.a,{align:"center",className:o.heading,grow:!0,"data-testid":"send-funds-review-step"},m.a.createElement(E.a,{className:o.headingText,noMargin:!0,weight:"bolder"},"Send funds"),m.a.createElement(E.a,{className:o.annotation},"2 of 2"),m.a.createElement(s.a,{disableRipple:!0,onClick:t},m.a.createElement(l.a,{className:o.closeIcon}))),m.a.createElement(j.a,null),m.a.createElement(x.a,{className:o.container},m.a.createElement(T.a,null),m.a.createElement(h.a,{withArrow:!0}),m.a.createElement(w.a,{margin:"xs"},m.a.createElement(E.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Recipient")),m.a.createElement(w.a,{align:"center",margin:"md","data-testid":"recipient-review-step"},m.a.createElement(O.a,{xs:12},m.a.createElement(f.EthHashInfo,{hash:n.recipientAddress,name:n.recipientName,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(g.d)(n.recipientAddress)}))),m.a.createElement(w.a,{margin:"xs"},m.a.createElement(E.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Amount")),m.a.createElement(w.a,{align:"center",margin:"md"},m.a.createElement(v.a,{alt:null===_||void 0===_?void 0:_.name,height:28,onError:L.a,src:null===_||void 0===_?void 0:_.logoUri}),m.a.createElement(E.a,{className:o.amount,noMargin:!0,size:"md","data-testid":"amount-".concat(null===_||void 0===_?void 0:_.symbol,"-review-step")},n.amount," ",null===_||void 0===_?void 0:_.symbol)),!Ee&&m.a.createElement(U.a,{txParameters:e,onEdit:r,isTransactionCreation:ge,isTransactionExecution:pe,isOffChainSignature:he})),!Ee&&fe!==P.a.LOADING&&m.a.createElement("div",{className:o.gasCostsContainer},m.a.createElement(M.a,{gasCostFormatted:le,isExecution:pe,isCreation:ge,isOffChainSignature:he,txEstimationExecutionStatus:fe})),m.a.createElement(z.b.Footer,{withoutBorder:!Ee&&je!==z.a.LOADING},m.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:a,text:"Back"},confirmButtonProps:{onClick:function(){return we(e)},status:je,text:fe===P.a.LOADING?"Estimating":void 0,testId:"submit-tx-btn"}})))}))}},1406:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1409),r=function(e){var t=e.currentTarget;/token_placeholder/.test(t.src)||(t.src=n.a)};a(432)},1408:function(e,t,a){"use strict";var n=a(69),r=a(5),c=a(7),i=a(8),s=a(9),o=a(0),u=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(n.a)(e,["children"]);return o.createElement("b",a,t)}}]),a}(o.PureComponent);t.a=u},1409:function(e,t,a){"use strict";t.a=a.p+"static/media/token_placeholder.c1abe466.svg"},1419:function(e,t,a){"use strict";var n,r,c=a(25),i=a(0),s=a.n(i),o=a(24),u=a(23),l=o.default.div(n||(n=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  margin: 8px 0;\n\n  svg {\n    margin: 0 12px 0 4px;\n  }\n"]))),d=Object(o.default)(u.Divider)(r||(r=Object(c.a)(["\n  width: 100%;\n"])));t.a=function(e){var t=e.withArrow;return s.a.createElement(l,null,t&&s.a.createElement(u.Icon,{type:"arrowDown",size:"md"}),s.a.createElement(d,null))}},1431:function(e,t,a){"use strict";var n,r=a(25),c=a(0),i=a.n(c),s=a(55),o=a(23),u=a(24),l=a(22),d=a(67),m=a(86),b=a(1408),f=a(11),p=a(139),g=Object(l.k)().nativeCoin,h=Object(u.default)(p.a)(n||(n=Object(r.a)(["\n  font-size: 12px;\n  line-height: 1.08;\n  letter-spacing: -0.5px;\n  background-color: ",";\n  width: fit-content;\n  padding: 5px 10px;\n  margin-top: ",";\n  margin-left: 40px;\n  border-radius: 3px;\n"])),f.border,f.xs);t.a=function(){var e=Object(s.f)(d.i),t=e.address,a=e.ethBalance,n=e.name;return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.EthHashInfo,{hash:t,name:n,explorerUrl:Object(l.d)(t),showAvatar:!0,showCopyBtn:!0}),a&&i.a.createElement(h,null,i.a.createElement(m.a,{noMargin:!0},"Balance: ",i.a.createElement(b.a,{"data-testid":"current-eth-balance"},"".concat(a," ").concat(g.symbol)))))}},1536:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return x})),a.d(t,"a",(function(){return O}));var n=a(1),r=a.n(n),c=a(12),i=a(1660),s=a(1661),o=a(78),u=a(149),l=a.n(u),d=a(343),m=a(553),b=a(248),f=a(443),p=a(30),g=a(29),h=l()((function(e){return new(Object(p.f)().eth.Contract)(i.abi,e)})),x=l()((function(e){return new(Object(p.f)().eth.Contract)(s.abi,e)})),O=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(f.a)(a()),e.prev=1,e.next=4,Object(m.a)();case 4:i=e.sent,c=i.data.results,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),Object(g.c)(g.b._600,e.t0.message),e.abrupt("return");case 12:if(s=c.filter((function(e){return"erc20"===e.type.toLowerCase()})),(null===n||void 0===n?void 0:n.size)!==s.length){e.next=15;break}return e.abrupt("return");case 15:u=Object(o.a)(s.map((function(e){return Object(b.a)(e)}))),t(Object(d.b)(u));case 17:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=52.d4da9da6.chunk.js.map